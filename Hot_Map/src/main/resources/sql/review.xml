<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- mapper할때 써야됨 -->
<mapper namespace="review">

	<insert id="reviewInsert">
		INSERT INTO REVIEW (St_NO,  MEM_ID, CONTENT, DATE, STAR, img )
		VALUES ( #{St_NO}, #{mem_id} , #{content}, NOW(),#{star}, #{img} )
	</insert>
	
	<select id="reviewOne" resultType="map" parameterType="_int">
		SELECT * FROM STORE
		 WHERE St_NO = #{St_NO}
	</select>
		
	<select id="reviewList" resultType="map">
		SELECT * FROM REVIEW
		 WHERE St_NO = #{St_NO}
		 ORDER BY Re_NO DESC
	</select>
	
	<select id="reviewCount" resultType="int">
		SELECT count(*) FROM REVIEW
		 WHERE St_NO = #{St_NO}
	</select>
	
	
</mapper>
